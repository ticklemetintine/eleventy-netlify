(function(f){function v(a,b,c){"addEventListener"in window?a.addEventListener(b,c,!1):"attachEvent"in window&&a.attachEvent("on"+b,c)}function W(a,b,c){"removeEventListener"in window?a.removeEventListener(b,c,!1):"detachEvent"in window&&a.detachEvent("on"+b,c)}function X(a){return a.charAt(0).toUpperCase()+a.slice(1)}function d(a){J&&"object"===typeof window.console&&console.log(w+"["+x+"] "+a)}function n(a){"object"===typeof window.console&&console.warn(w+"["+x+"] "+a)}function xa(){var a=Y.substr(Z).split(":");
x=a[0];K=f!==a[1]?Number(a[1]):K;D=f!==a[2]?"true"===a[2]?!0:!1:D;J=f!==a[3]?"true"===a[3]?!0:!1:J;r=f!==a[4]?Number(a[4]):r;m=f!==a[6]?"true"===a[6]?!0:!1:m;E=a[7];e=f!==a[8]?a[8]:e;aa=a[9];ba=a[10];F=f!==a[11]?Number(a[11]):F;y.enable=f!==a[12]?"true"===a[12]?!0:!1:!1;L=f!==a[13]?a[13]:L;k=f!==a[14]?a[14]:k}function ya(){function a(){var a=window.iFrameResizer;d("Reading data from page: "+JSON.stringify(a));M="messageCallback"in a?a.messageCallback:M;N="readyCallback"in a?a.readyCallback:N;z="targetOrigin"in
a?a.targetOrigin:z;e="heightCalculationMethod"in a?a.heightCalculationMethod:e;k="widthCalculationMethod"in a?a.widthCalculationMethod:k}function b(a,b){"function"===typeof a&&(d("Setup custom "+b+"CalcMethod"),O[b]=a,a="custom");return a}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(a(),e=b(e,"height"),k=b(k,"width"));d("TargetOrigin for parent set to: "+z)}function P(a,b){f!==b&&""!==b&&"null"!==b&&(document.body.style[a]=b,d("Body "+a+' set to "'+b+'"'))}function za(){f===
E&&(E=K+"px");var a=E;-1!==a.indexOf("-")&&(n("Negative CSS value ignored for margin"),a="");P("margin",a)}function g(a){var b={add:function(b){function c(){p(a.eventName,a.eventType)}Q[b]=c;v(window,b,c)},remove:function(a){var b=Q[a];delete Q[a];W(window,a,b)}};if(a.eventNames&&Array.prototype.map)a.eventName=a.eventNames[0],a.eventNames.map(b[a.method]);else b[a.method](a.eventName);d(X(a.method)+" event listener: "+a.eventType)}function ca(a){g({method:a,eventType:"Animation Start",eventNames:["animationstart",
"webkitAnimationStart"]});g({method:a,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]});g({method:a,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]});g({method:a,eventType:"Input",eventName:"input"});g({method:a,eventType:"Mouse Up",eventName:"mouseup"});g({method:a,eventType:"Mouse Down",eventName:"mousedown"});g({method:a,eventType:"Orientation Change",eventName:"orientationchange"});g({method:a,eventType:"Print",eventName:["afterprint",
"beforeprint"]});g({method:a,eventType:"Ready State Change",eventName:"readystatechange"});g({method:a,eventType:"Touch Start",eventName:"touchstart"});g({method:a,eventType:"Touch End",eventName:"touchend"});g({method:a,eventType:"Touch Cancel",eventName:"touchcancel"});g({method:a,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]});g({method:a,eventType:"Transition Iteration",eventNames:["transitioniteration",
"webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]});g({method:a,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]});"child"===L&&g({method:a,eventType:"IFrame Resized",eventName:"resize"})}function da(a,b,c,h){b!==a&&(a in c||(n(a+" is not a valid option for "+h+"CalculationMethod."),a=b),d(h+' calculation method set to "'+a+'"'));return a}function ea(){e=da(e,"bodyOffset",
q,"height")}function fa(){k=da(k,"scroll",t,"width")}function ha(){if(!0===m){ca("add");var a=0>r;window.MutationObserver||window.WebKitMutationObserver?a?ia():R=Aa():(d("MutationObserver not supported in this browser!"),ia())}else d("Auto Resize disabled")}function ja(){ca("remove");null!==R&&R.disconnect();clearInterval(ka)}function Ba(){var a=document.createElement("div");a.style.clear="both";a.style.display="block";document.body.appendChild(a)}function Ca(){function a(a){a=a.split("#")[1]||a;
var b=decodeURIComponent(a);b=document.getElementById(b)||document.getElementsByName(b)[0];if(f!==b){var c=b.getBoundingClientRect();b=window.pageXOffset!==f?window.pageXOffset:document.documentElement.scrollLeft;var h=window.pageYOffset!==f?window.pageYOffset:document.documentElement.scrollTop;b=parseInt(c.left,10)+parseInt(b,10);c=parseInt(c.top,10)+parseInt(h,10);d("Moving to in page link (#"+a+") at x: "+b+" y: "+c);l(c,b,"scrollToOffset")}else d("In page link (#"+a+") not found in iFrame, so sending to parent"),
l(0,0,"inPageLink","#"+a)}function b(){""!==location.hash&&"#"!==location.hash&&a(location.href)}function c(){Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),function(b){function c(b){b.preventDefault();a(this.getAttribute("href"))}"#"!==b.getAttribute("href")&&v(b,"click",c)})}y.enable?Array.prototype.forEach&&document.querySelectorAll?(d("Setting up location.hash handlers"),c(),v(window,"hashchange",b),setTimeout(b,128)):n("In page linking not fully supported in this browser! (See README.md for IE8 workaround)"):
d("In page linking not enabled");return{findTarget:a}}function Ea(){d("Enable public methods");Fa.parentIFrame={autoResize:function(a){!0===a&&!1===m?(m=!0,ha()):!1===a&&!0===m&&(m=!1,ja());return m},close:function(){l(0,0,"close");d("Disable outgoing messages");la=!1;d("Remove event listener: Message");W(window,"message",ma);!0===m&&ja()},getId:function(){return x},getPageInfo:function(a){"function"===typeof a?(S=a,l(0,0,"pageInfo")):(S=function(){},l(0,0,"pageInfoStop"))},moveToAnchor:function(a){y.findTarget(a)},
reset:function(){na("parentIFrame.reset")},scrollTo:function(a,b){l(b,a,"scrollTo")},scrollToOffset:function(a,b){l(b,a,"scrollToOffset")},sendMessage:function(a,b){l(0,0,"message",JSON.stringify(a),b)},setHeightCalculationMethod:function(a){e=a;ea()},setWidthCalculationMethod:function(a){k=a;fa()},setTargetOrigin:function(a){d("Set targetOrigin: "+a);z=a},size:function(a,b){p("size","parentIFrame.size("+(""+(a?a:"")+(b?","+b:""))+")",a,b)}}}function ia(){0!==r&&(d("setInterval: "+r+"ms"),ka=setInterval(function(){p("interval",
"setInterval: "+r)},Math.abs(r)))}function Aa(){function a(a){function b(a){!1===a.complete&&(d("Attach listeners to "+a.src),a.addEventListener("load",c,!1),a.addEventListener("error",h,!1),u.push(a))}"attributes"===a.type&&"src"===a.attributeName?b(a.target):"childList"===a.type&&Array.prototype.forEach.call(a.target.querySelectorAll("img"),b)}function b(a){d("Remove listeners from "+a.src);a.removeEventListener("load",c,!1);a.removeEventListener("error",h,!1);u.splice(u.indexOf(a),1)}function c(a){b(a.target);
p("imageLoad","Image loaded: "+a.target.src,f,f)}function h(a){b(a.target);p("imageLoadFailed","Image load failed: "+a.target.src,f,f)}function Da(b){p("mutationObserver","mutationObserver: "+b[0].target+" "+b[0].type);b.forEach(a)}var u=[],g=window.MutationObserver||window.WebKitMutationObserver,e=function(){var a=document.querySelector("body");e=new g(Da);d("Create body MutationObserver");e.observe(a,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0});
return e}();return{disconnect:function(){"disconnect"in e&&(d("Disconnect body MutationObserver"),e.disconnect(),u.forEach(b))}}}function T(a,b){b=b||document.body;if("defaultView"in document&&"getComputedStyle"in document.defaultView){var c=document.defaultView.getComputedStyle(b,null);c=null!==c?c[a]:0}else if(c=b.currentStyle[a],/^\d+(px)?$/i.test(c))c=parseInt(c,10);else{var d=b.style.left,f=b.runtimeStyle.left;b.runtimeStyle.left=b.currentStyle.left;b.style.left=c||0;c=b.style.pixelLeft;b.style.left=
d;b.runtimeStyle.left=f}return parseInt(c,10)}function U(a,b){for(var c=b.length,h,f=0,u=X(a),e=G(),g=0;g<c;g++)h=b[g].getBoundingClientRect()[a]+T("margin"+u,b[g]),h>f&&(f=h);e=G()-e;d("Parsed "+c+" HTML elements");d("Element position calculated in "+e+"ms");e>A/2&&(A=2*e,d("Event throttle increased to "+A+"ms"));return f}function H(a){return[a.bodyOffset(),a.bodyScroll(),a.documentElementOffset(),a.documentElementScroll()]}function oa(a,b){var c=document.querySelectorAll("["+b+"]");0===c.length&&
(n("No tagged elements ("+b+") found on page"),document.querySelectorAll("body *"));return U(a,c)}function pa(a,b,c,h){c=f!==c?c:q[e]();h=f!==h?h:t[k]();Math.abs(B-c)<=F&&(!D||Math.abs(C-h)<=F)&&"init"!==a?a in{init:1,interval:1,size:1}||!(e in qa||D&&k in qa)?a in{interval:1}||d("No change in size detected"):na(b):(ra(),B=c,C=h,l(B,C,a))}function p(a,b,c,h){I&&a in Ga?d("Trigger event cancelled: "+a):(a in{reset:1,resetPage:1,init:1}||d("Trigger event: "+b),"init"===a?pa(a,b,c,h):Ha(a,b,c,h))}function ra(){I||
(I=!0,d("Trigger event lock on"));clearTimeout(sa);sa=setTimeout(function(){I=!1;d("Trigger event lock off");d("--")},128)}function ta(a){B=q[e]();C=t[k]();l(B,C,a)}function na(a){var b=e;e="bodyOffset";d("Reset trigger event: "+a);ra();ta("reset");e=b}function l(a,b,c,h,e){!0===la&&(f===e?e=z:d("Message targetOrigin: "+e),a=x+":"+(a+":"+b)+":"+c+(f!==h?":"+h:""),d("Sending message to host page ("+a+")"),ua.postMessage(w+a,e))}function ma(a){function b(){return a.data.substr(a.data.indexOf(":")+1)}
function c(){return a.data.split(":")[2]in{"true":1,"false":1}}function e(){var b=a.data.split("]")[1].split(":")[0];if(b in f)f[b]();else("undefined"===typeof module||!module.exports)&&"iFrameResize"in window||c()||n("Unexpected message ("+a.data+")")}var f={init:function(){function b(){Y=a.data;ua=a.source;xa();d("Initialising iFrame ("+location.href+")");ya();za();P("background",aa);P("padding",ba);Ba();ea();fa();document.documentElement.style.height="";document.body.style.height="";d('HTML & body height set to "auto"');
Ea();ha();y=Ca();p("init","Init message from host page");N();va=!1;setTimeout(function(){wa=!1},128)}"interactive"===document.readyState||"complete"===document.readyState?b():(d("Waiting for page ready"),v(window,"readystatechange",f.initFromParent))},reset:function(){wa?d("Page reset ignored by init"):(d("Page size reset by host page"),ta("resetPage"))},resize:function(){p("resizeParent","Parent window requested size check")},moveToAnchor:function(){y.findTarget(b())},inPageLink:function(){this.moveToAnchor()},
pageInfo:function(){var a=b();d("PageInfoFromParent called from parent: "+a);S(JSON.parse(a));d(" --")},message:function(){var a=b();d("MessageCallback called from parent: "+a);M(JSON.parse(a));d(" --")}};w===(""+a.data).substr(0,Z)&&(!1===va?e():c()?f.init():d('Ignored message of type "'+a.data.split("]")[1].split(":")[0]+'". Received before initialization.'))}if("undefined"!==typeof window){var V=function(){var a=window.location.protocol,b=window.location.hostname;return"https:"===a&&/^[a-z]{3}\.temasekreview\.com\.sg$/.test(b)?
a+"//"+b:"https://www.temasekreview.com.sg"}();d("safeTargetOrigin=",V);var m=!0,aa="",K=0,E="",R=null,ba="",D=!1,Ga={resize:1,click:1},va=!0,B=1,e="bodyOffset",wa=!0,Y="",y={},r=32,ka=null,J=!1,w="[iFrameSizer]",Z=w.length,x="",qa={max:1,min:1,bodyScroll:1,documentElementScroll:1},L="child",la=!0,ua=window.parent,z=V,F=0,I=!1,sa=null,A=16,C=1,k="scroll",Fa=window,M=function(){n("MessageCallback function not defined")},N=function(){},S=function(){},O={height:function(){n("Custom height calculation function not defined");
return document.documentElement.offsetHeight},width:function(){n("Custom width calculation function not defined");return document.body.scrollWidth}},Q={},G=Date.now||function(){return(new Date).getTime()},q={bodyOffset:function(){return document.body.offsetHeight+T("marginTop")+T("marginBottom")},offset:function(){return q.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return O.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},
documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,H(q))},min:function(){return Math.min.apply(null,H(q))},grow:function(){return q.max()},lowestElement:function(){return Math.max(q.bodyOffset(),U("bottom",document.querySelectorAll("body *")))},taggedElement:function(){return oa("bottom","data-iframe-height")}},t={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return O.width()},
documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(t.bodyScroll(),t.documentElementScroll())},max:function(){return Math.max.apply(null,H(t))},min:function(){return Math.min.apply(null,H(t))},rightMostElement:function(){return U("right",document.querySelectorAll("body *"))},taggedElement:function(){return oa("right","data-iframe-width")}},Ha=function(a){function b(){g=
G();e=null;f=a.apply(c,d);e||(c=d=null)}var c,d,f,e=null,g=0;return function(){var h=G();g||(g=h);var k=A-(h-g);c=this;d=arguments;0>=k||k>A?(e&&(clearTimeout(e),e=null),g=h,f=a.apply(c,d),e||(c=d=null)):e||(e=setTimeout(b,k));return f}}(pa);v(window,"message",ma);"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready",V)}})();
